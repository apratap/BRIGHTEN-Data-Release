---
title: "2 Restructuring Data to a Common Data Model"
output:
  html_document:
    df_print: paged
---

```{r global_options, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      warning = FALSE, 
                      message = FALSE,
                      cache = FALSE)


```

# Summary

Variables and files names will be unified across the repository in order to make their presentation consistent for clients.

# Environment

Python and the Synapse python library will need to be setup in the environment. Other variables and R libraries are fully configured here. Enter your username and password for Synapse.org.

```{r Setting Environment}
#Needed Libraries 
# Setup loop to check in library is installed....
#library(synapser) #Synapse API
#library(knitr) #command line option in compiling notebook
#library(tools)
#library(xlsx) #read xmls files
#library(data.table) 
#library(reticulate) #Python integration into R studio
#library(stringr) #parse strings
source("../CustomFunctions.R")

#library(PythonInR) #required to use some of sysapse API

#some libraries are used from python
synapseclient <- import('synapseclient')
synapseutils <- import('synapseutils') 

#Constants
#File locations and directories
DATADIRECTORY <- "../Data/"
REPORTDIRECTORY <- "../Reports/Restructuring_to_Common_Data_Model/"

dir.create(DATADIRECTORY)
dir.create("../Reports/")
dir.create(REPORTDIRECTORY)

SYNLOGIN <- synapseclient$login() #generate synology login token
```

# Load Local Functions

These are convienence functions for processees in this notebook. Functions common to working with synapse and our datda in general can be found in ../CustomFunctons.R

# Loadin File Information

Records Generating in Chapter  1 are used to identify and organize files in the transformation step.

```{r load_file_descriptions}
MatchedRecords <- read.csv("../Reports/Description of Initially Available Data/MatchedRecords.csv")
```

# Transformation Before Load



# Loading to Repository

